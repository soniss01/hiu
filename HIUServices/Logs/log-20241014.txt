2024-10-14T11:32:43.3072495+05:30  [INF] Now listening on: "https://0.0.0.0:5001" (d826f4b8)
2024-10-14T11:32:43.3106897+05:30  [INF] Now listening on: "http://0.0.0.0:5000" (d826f4b8)
2024-10-14T11:32:43.3148179+05:30  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-10-14T11:32:43.3170140+05:30  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-10-14T11:32:43.3188615+05:30  [INF] Content root path: "D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices" (cc26f24e)
2024-10-14T11:34:33.9733257+05:30 0HN7C2N8OCHOQ:00000001 [INF] ================================================= (9934009c)
2024-10-14T11:34:33.9784596+05:30 0HN7C2N8OCHOQ:00000001 [INF] Request API Started at:14-10-2024 11:34:33 (b1307e21)
2024-10-14T11:34:38.1453021+05:30 0HN7C2N8OCHOQ:00000001 [INF] consent-requests/init (54f46c3d)
2024-10-14T11:37:00.8939470+05:30 0HN7C2N8OCHOQ:00000001 [INF] consent Request:{"requestId":"584248d8-1a60-456a-bb5b-2f9d1ead6a71","timestamp":"2024-10-14T06:05:40.675Z","consent":{"purpose":{"text":"CAREMGT","code":"CAREMGT","refUri":null},"patient":{"id":"57818821603088@sbx"},"hip":null,"hiu":{"id":"SBX_000287_HIU"},"requester":{"name":"Urvasii","identifier":{"type":"REGNO","value":"542","system":"https://www.mciindia.org"}},"hiTypes":["Prescription","OPConsultation","HealthDocumentRecord"],"permission":{"accessMode":"VIEW","dateRange":{"from":"2015-03-06T05:30:00.000Z","to":"2024-08-11T05:30:00.000Z"},"dataEraseAt":"2024-11-01T15:55:00.000Z","frequency":{"unit":"HOUR","value":1,"repeats":0}},"careContexts":null} (13815c4a)
2024-10-14T11:37:28.5716479+05:30 0HN7C2N8OCHOQ:00000001 [ERR] Error:Exception while writing to stream System.IO.IOException: Unable to write data to the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.SendAsyncForNetworkStream(ReadOnlyMemory`1 buffer, SocketFlags socketFlags, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|100_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|100_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at HIUServices.Repostitories.Requests.RequestService.GetConsentByRequestId(String requestId) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Repostitories\Requests\RequestService.cs:line 69
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at HIUServices.Repostitories.Requests.RequestService.GetConsentByRequestId(String requestId)
   at HIUServices.Controllers.RequestController.ConsentRequests(ConsentRequestDto consentRequestDto) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Controllers\RequestController.cs:line 236
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.TaskAwaiter.<>c.<OutputWaitEtwEvents>b__12_0(Action innerContinuation, Task innerTask)
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(Action action, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task.TrySetResult()
   at System.Threading.Tasks.Task.DelayPromise.CompleteTimedOut()
   at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)
   at System.Threading.TimerQueue.FireNextTimers()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|100_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at HIUServices.Repostitories.Requests.RequestService.GetConsentByRequestId(String requestId) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Repostitories\Requests\RequestService.cs:line 69
   at HIUServices.Controllers.RequestController.ConsentRequests(ConsentRequestDto consentRequestDto) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Controllers\RequestController.cs:line 236 (4d01f4fc)
2024-10-14T12:00:50.6452714+05:30  [INF] Now listening on: "https://0.0.0.0:5001" (d826f4b8)
2024-10-14T12:00:50.6480978+05:30  [INF] Now listening on: "http://0.0.0.0:5000" (d826f4b8)
2024-10-14T12:00:50.6513705+05:30  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-10-14T12:00:50.6531071+05:30  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-10-14T12:00:50.6548239+05:30  [INF] Content root path: "D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices" (cc26f24e)
2024-10-14T12:01:56.8201373+05:30 0HN7C36VMJKE3:00000009 [INF] ================================================= (9934009c)
2024-10-14T12:01:56.8300019+05:30 0HN7C36VMJKE3:00000009 [INF] Request API Started at:14-10-2024 12:01:56 (3b9d37c5)
2024-10-14T12:02:00.1389299+05:30 0HN7C36VMJKE3:00000009 [INF] consent-requests/init (54f46c3d)
2024-10-14T12:03:09.4115239+05:30 0HN7C36VMJKE3:00000009 [INF] consent Request:{"requestId":"219511b3-ed6c-4a6f-bab0-af67fed5928c","timestamp":"2024-10-14T06:32:03.237Z","consent":{"purpose":{"text":"CAREMGT","code":"CAREMGT","refUri":null},"patient":{"id":"57818821603088@sbx"},"hip":null,"hiu":{"id":"SBX_000287_HIU"},"requester":{"name":"Urvasii","identifier":{"type":"REGNO","value":"542","system":"https://www.mciindia.org"}},"hiTypes":["Prescription","OPConsultation","HealthDocumentRecord"],"permission":{"accessMode":"VIEW","dateRange":{"from":"2015-04-05T00:00:00.000Z","to":"2024-06-10T00:00:00.000Z"},"dataEraseAt":"2024-11-02T10:41:00.000Z","frequency":{"unit":"HOUR","value":1,"repeats":0}},"careContexts":null} (b2529f9e)
2024-10-14T12:11:17.7953073+05:30  [INF] Now listening on: "https://0.0.0.0:5001" (d826f4b8)
2024-10-14T12:11:17.7981686+05:30  [INF] Now listening on: "http://0.0.0.0:5000" (d826f4b8)
2024-10-14T12:11:17.8017292+05:30  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-10-14T12:11:17.8034668+05:30  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-10-14T12:11:17.8052303+05:30  [INF] Content root path: "D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices" (cc26f24e)
2024-10-14T12:12:16.8676405+05:30 0HN7C3CQJTTSI:00000009 [INF] ================================================= (9934009c)
2024-10-14T12:12:16.8783824+05:30 0HN7C3CQJTTSI:00000009 [INF] Request API Started at:14-10-2024 12:12:16 (eb380e3b)
2024-10-14T12:12:19.9559780+05:30 0HN7C3CQJTTSI:00000009 [INF] consent-requests/init (54f46c3d)
2024-10-14T12:12:43.5886665+05:30 0HN7C3CQJTTSI:00000009 [INF] consent Request:{"requestId":"6bf80a37-0844-411e-9857-91b02a3990f8","timestamp":"2024-10-14T06:42:23.939Z","consent":{"purpose":{"text":"CAREMGT","code":"CAREMGT","refUri":null},"patient":{"id":"57818821603088@sbx"},"hip":null,"hiu":{"id":"SBX_000287_HIU"},"requester":{"name":"Urvasii","identifier":{"type":"REGNO","value":"542","system":"https://www.mciindia.org"}},"hiTypes":["Prescription","OPConsultation","HealthDocumentRecord"],"permission":{"accessMode":"VIEW","dateRange":{"from":"2015-07-24T00:00:00.000Z","to":"2024-07-10T00:00:00.000Z"},"dataEraseAt":"2024-10-20T12:08:00.000Z","frequency":{"unit":"HOUR","value":1,"repeats":0}},"careContexts":null} (7d547032)
2024-10-14T12:12:54.5151169+05:30 0HN7C3CQJTTSI:00000009 [ERR] Error:Exception while writing to stream System.IO.IOException: Unable to write data to the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.SendAsyncForNetworkStream(ReadOnlyMemory`1 buffer, SocketFlags socketFlags, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|100_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|100_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at HIUServices.Repostitories.Requests.RequestService.GetConsentByRequestId(String requestId) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Repostitories\Requests\RequestService.cs:line 69
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at HIUServices.Repostitories.Requests.RequestService.GetConsentByRequestId(String requestId)
   at HIUServices.Controllers.RequestController.ConsentRequests(ConsentRequestDto consentRequestDto) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Controllers\RequestController.cs:line 236
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.TaskAwaiter.<>c.<OutputWaitEtwEvents>b__12_0(Action innerContinuation, Task innerTask)
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(Action action, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task.TrySetResult()
   at System.Threading.Tasks.Task.DelayPromise.CompleteTimedOut()
   at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)
   at System.Threading.TimerQueue.FireNextTimers()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|100_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at HIUServices.Repostitories.Requests.RequestService.GetConsentByRequestId(String requestId) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Repostitories\Requests\RequestService.cs:line 69
   at HIUServices.Controllers.RequestController.ConsentRequests(ConsentRequestDto consentRequestDto) in D:\PROJECTS\RCH\ABHA\M3\RCH-HIU-SERVICES\HIUServices\Controllers\RequestController.cs:line 236 (4d01f4fc)
